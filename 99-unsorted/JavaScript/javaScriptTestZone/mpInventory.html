<html>
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap 4 DatePicker</title>

    <script src="../assets/jquery-3.3.1/jquery-3.3.1.js"></script>
    <script src="../assets/modular/js/core.js" type="text/javascript"></script>
    <link href="../assets/modular/css/core.css" rel="stylesheet" type="text/css">
    <link href="../assets/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">  
    <link href="../assets/modular/css/datepicker.css" rel="stylesheet" type="text/css">
    <script src="../assets/modular/js/datepicker.js"></script>

</head>

<body>  

    <div class="container-fluid">
        <div class="row">
            <div class="col d-flex justify-content-center text-truncate"><h1>Mp Delivery</h1></div>
        </div>

        <!-- <div class="row">
                <div class="col">&nbsp;</div>
        </div> -->

    </div>


    <div class="container-fluid">
        <div class="row">
            <div class="col d-flex justify-content-center text-truncate"><h6>from-date</h6></div>
            <div class="col d-flex justify-content-center text-truncate"><h6>to-date</h6></div>
        </div>
        
        <div class="row">
            <div class="col">
                <input id="fromDate" />
             </div>
            <div class="col">
                <input id="toDate"  />
            </div>
        </div>
        <div class="row">
            <div class="col d-flex justify-content-center text-truncate"><h6>&nbsp;</h6></div>
            <div class="col d-flex justify-content-center text-truncate"><h6>&nbsp;</h6></div>
        </div>
        <div class="row">
            <div class="col d-flex justify-content-center text-truncate"><h6>custname</h6></div>
            <div class="col d-flex justify-content-center text-truncate"><h6>custdes</h6></div>
        </div>
        <div class="row">
        <!-- <br/> -->
            <div class="col">                 
                <select id="cbListKey" class="form-control">  
                </select>
            </div>
            <div class="col">                 
                <select id="cbListvalue" class="form-control">
                </select>            
            </div>
        </div>
    </div>


    <div class="container-fluid">    
            <div class="row">
                    <div class="col">&nbsp;</div>
                </div>        
        <div class="row">
            <div class="col d-flex justify-content-center">         
               <button class="btn btn-success mr-4" id="submit" item-width="10"> submit </button>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div id="output"></div>
    </div>

    
    <script>

        document.getElementById('submit').addEventListener('click', getText);



        function getText()
        {

            var xTmp = " " ;
            xTmp = xTmp + "<br/> from date: " + document.getElementById("fromDate").value ;
            xTmp = xTmp + "<br/> to date: " + document.getElementById("toDate").value;


    //             var x = document.getElementById("mySelect").value;
    // document.getElementById("demo").innerHTML = x;

        var fromDatex = document.getElementById("cbListKey").selectedIndex;
        var fromDatey = document.getElementById("cbListKey").options;
        xTmp = xTmp + "<br/> key: "  + fromDatey[fromDatex].text;

        var toDateDatex = document.getElementById("cbListvalue").selectedIndex;
        var toDateDatey = document.getElementById("cbListvalue").options;
        xTmp = xTmp + "<br/> value: "  + toDateDatey[toDateDatex].text;


            // xTmp = xTmp + "<br/> key: "  + document.getElementById("cbListKey").value; //.getCbList;
            // xTmp = xTmp + "<br/> key: "  + document.getElementById("cbListvalue").value; //.getCbList;

            document.getElementById("output").innerHTML = xTmp;
        }




        $('#fromDate').datepicker({
            uiLibrary: 'bootstrap4',
            format: "dd/mm/yyyy",
           
        });

        $('#toDate').datepicker({
            uiLibrary: 'bootstrap4',
            format: "dd/mm/yyyy",
           
        });

    
        function getCbList()
        {
        //fetch('http://localhost:8080/list')
        fetch('sample.json')
        .then((res) => res.json())
        .then((data) => {
            let outputKey = ``;
            let outPutValue = ``;

            data.forEach(function(post){
            
                outputKey += `<option value="post.custname">${post.custname} </option> `;
                outPutValue += `<option value="post.custdes">${post.custdes} </option> `;
            });

           document.getElementById('cbListKey').innerHTML = outputKey;
           document.getElementById('cbListvalue').innerHTML =  outPutValue;
        })
        }


  


    //load list
    getCbList();

    </script>


</body>
</html>